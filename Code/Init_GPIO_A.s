GPIO_PORTA_DATA_ALL	EQU 0x400043FC
GPIO_PORTA_DATA_OUT	EQU 0x400043C0
GPIO_PORTA_DIR_R 	EQU 0x40004400
GPIO_PORTA_AFSEL_R 	EQU 0x40004420
GPIO_PORTA_AMSEL_R 	EQU 0x40004528
GPIO_PORTA_DEN_R 	EQU 0x4000451C
GPIO_PORTA_PUR_R 	EQU 0x40004510
GPIO_PORTA_IEV 		EQU 0x4000440C
GPIO_PORTA_IMSK 	EQU 0x40004410
GPIO_PORTA_MIS 		EQU 0x40004418
GPIO_PORTA_ICR 		EQU 0x4000441C
SYSCTL_RCGCGPIO		EQU 0x400FE608
SYSCTL_PRGPIO 		EQU 0x400FEA08

			AREA INIT_GPIOA_CODE, CODE, READONLY
			THUMB
			EXPORT INIT_GPIOA
				
INIT_GPIOA	PROC
			PUSH 	{R0, R1}
			; Turn On Port A Clock
			LDR 	R1, = SYSCTL_RCGCGPIO
			LDR 	R0, [R1]
			ORR 	R0, R0, #0x01
			STR 	R0, [R1]

			; Check Port Ready Status
			LDR 	R1, = SYSCTL_PRGPIO
CHK_PRT		LDR 	R0, [R1]
			ANDS  	R0, #0x01
			BEQ 	CHK_PRT
			
			; Set Directions
			LDR 	R1, =GPIO_PORTA_DIR_R
			MOV 	R0, #0xF0
			STR 	R0, [R1]
			
			; Set as Regular GPIO
			LDR 	R1, =GPIO_PORTA_AFSEL_R
			MOV 	R0, #0x00
			STR 	R0, [R1]

			; Enable Digital Port
			LDR 	R1, =GPIO_PORTA_DEN_R
			MOV 	R0, #0xF0
			STR 	R0, [R1]
			
			; Set Output Pins as Full Step 1
			LDR 	R1, =GPIO_PORTA_DATA_OUT
			MOV 	R0, #0x10
			STR		R0, [R1]
			
			POP 	{R0, R1}
			BX 		LR
			ENDP
				
			ALIGN
			END